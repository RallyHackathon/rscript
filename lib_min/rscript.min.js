(function(){this.rsc=this.rsc||{};this.rsc.global=this})();rsc.launch=function(a){var b=Ext.Array.toArray(arguments),c=Ext.widget("container",{renderTo:Ext.getBody(),width:"100%",height:"100%"});Ext.Array.each(b,function(a){a.resolve(c)})};rsc.flow=function(a,b){var c=Ext.Array.toArray(arguments),d;a&&!a.isRscPromise?(d=a,c=Ext.Array.remove(c,d)):d={};d.layout="column";c=[d].concat(c);return rsc.stack.apply(rsc.stack,c)};
rsc.stack=function(a,b){var c,d=Ext.Array.toArray(arguments),e={};a&&!a.isRscPromise&&(e=a,d=Ext.Array.remove(d,e));return new rsc.Promise(function(a){e=Ext.applyIf({xtype:"container"},e);c=a.add(e);Ext.Array.each(d,function(a){a.resolve(c)})})};rsc.text=function(a,b){var c=Ext.isString(a)?a:b||"",d=Ext.isNumber(a)?a:12;return new rsc.Promise(function(a){a.add({xtype:"container",html:c,style:{fontSize:d+"px"}})})};rsc.Compiler=function(a){this.env=a||{}};
rsc.Compiler.prototype={compile:function(a){if(!Ext.isString(a))throw Error("rsc.Compiler.compile, src is required");var b=[];Ext.Object.each(this.env,function(a){0!==a.indexOf("_")&&b.push(a)});b.push(a);return Function.apply(Function,b)},execute:function(a){var a=this.compile(a),b=[];Ext.Object.each(this.env,function(a,d){0!==a.indexOf("_")&&b.push(d)});return a.apply(null,b)}};rsc.Promise=function(a){this.resolve=a;this.isRscPromise=!0};
(function(){function a(){var a=document.getElementsByTagName("script"),c;Ext.Array.each(a,function(a){if("rscript"===a.type)return c=a.innerText,!1});return c}Rally.onReady(function(){var b=a();b&&(new rsc.Compiler(rsc)).execute(b)})})();
